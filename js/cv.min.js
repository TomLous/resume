!function(l){"use strict";function e(e,t){Papa.parse(e,{download:!0,delimiter:",",header:!0,skipEmptyLines:!0,complete:function(e){t(e.data)}})}function m(r,e){var a=(e=void 0===e||e)?1:-1;return function(e,t){return e[r]<t[r]?-1*a:e[r]>t[r]?1*a:0}}e("cv/export/Profile.csv",function(e){var t=e[0];l(".first-name").text(t["First Name"]),l(".last-name").text(t["Last Name"]),l(".headline").text(t.Headline.replace("- available for contracts",""));var n={};t.Websites.split(", ").map(function(e){var t=e.split(":"),r=t.shift(),a=t.join(":");n.hasOwnProperty(r)||(n[r]=a)});var r="#";n.hasOwnProperty("PERSONAL")?r=n.PERSONAL:n.hasOwnProperty("PORTFOLIO")?r=n.PORTFOLIO:n.hasOwnProperty("BLOG")?r=n.BLOG:n.hasOwnProperty("OTHER")?r=n.OTHER:n.hasOwnProperty("COMPANY")&&(r=n.COMPANY),l(".website").text(r).attr("href",r),l("#summary").html(t.Summary.replace(/\-/gi,"<br>"))}),e("cv/export/Email Addresses.csv",function(e){var t=e.filter(function(e){return"Yes"===e.Primary})[0]["Email Address"];l(".email-address").text(t).attr("href","mailto:"+t)}),e("cv/export/Phone Numbers.csv",function(e){var t=e[0].Number;l(".phone").text(t)}),e("cv/export/Positions.csv",function(e){var t=document.getElementById("position-template").innerHTML,r=Handlebars.compile(t);for(var a in e){var n=e[a],i=r({title:n.Title+" at "+n["Company Name"],from:n["Started On"],to:""===n["Finished On"]?"Present":n["Finished On"],body:n.Description.replace(/ \-/gi,"<br> -")});l("#positions").append(i)}}),e("cv/export/Skills.csv",function(e){var t=e.slice(0,18);for(var r in t){var a=t[r].Name;l(".keySkills").append(l("<li>").text(a))}}),e("cv/export/Certifications.csv",function(e){var t=document.getElementById("certification-template").innerHTML,r=Handlebars.compile(t),a=m("time",!1),n=e.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(a);for(var i in n){var o=n[i],c=r({title:o.Name,date:o["Start Date"],url:o.Url});l("#certifications").append(c)}}),e("cv/export/Courses.csv",function(e){var t=document.getElementById("course-template").innerHTML,r=Handlebars.compile(t);for(var a in e){var n=r({title:e[a].Name});l("#courses").append(n)}}),e("cv/export/Education.csv",function(e){var t=document.getElementById("education-item-template").innerHTML,r=Handlebars.compile(t),a=m("time",!1),n=e.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(a).filter(function(e){return console.log(e),"-"!==e.Activities.trim()});for(var i in n){var o=n[i],c=r({title:""===o.Activities?o["School Name"]:o.Activities+" at "+o["School Name"],from:o["Start Date"],degree:o["Degree Name"],to:""===o["End Date"]?"Present":o["End Date"],body:o.Notes.replace(/ \-/gi,"<br> -")});l("#education").append(c)}}),e("cv/export/Projects.csv",function(e){var t=document.getElementById("project-template").innerHTML,r=Handlebars.compile(t),a=m("time",!1),n=e.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(a).slice(0,7),i=[];for(var o in n){"Spark Big Data Pipeline"==(c=n[o]).Title?i.unshift(c):i[o]=c}for(var o in n){var c,s=r({title:(c=i[o]).Title,from:c["Start Date"],url:c.Url,to:c["End Date"]==c["Start Date"]?null:""===c["End Date"]?"Present":c["End Date"],body:c.Description.replace(/ \-/gi,"<br> -")});l("#projects").append(s)}})}(jQuery);