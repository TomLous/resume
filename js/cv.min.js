!function(e){"use strict";function t(e,t){Papa.parse(e,{download:!0,delimiter:",",header:!0,skipEmptyLines:!0,complete:function(e){t(e.data)}})}function r(e,t){var r=(t=void 0===t||t)?1:-1;return function(t,n){return t[e]<n[e]?-1*r:t[e]>n[e]?1*r:0}}t("cv/export/Profile.csv",function(t){var r=t[0];console.log(r),e(".first-name").text(r["First Name"]),e(".last-name").text(r["Last Name"]),e(".headline").text(r.Headline);var n={};r.Websites.split(", ").map(function(e){var t=e.split(":"),r=t.shift(),a=t.join(":");n.hasOwnProperty(r)||(n[r]=a)});var a="#";n.hasOwnProperty("PERSONAL")?a=n.PERSONAL:n.hasOwnProperty("PORTFOLIO")?a=n.PORTFOLIO:n.hasOwnProperty("BLOG")?a=n.BLOG:n.hasOwnProperty("OTHER")?a=n.OTHER:n.hasOwnProperty("COMPANY")&&(a=n.COMPANY),e(".website").text(a).attr("href",a),e("#summary").text(r.Summary)}),t("cv/export/Email Addresses.csv",function(t){var r=t.filter(function(e){return"Yes"===e.Primary})[0]["Email Address"];e(".email-address").text(r).attr("href","mailto:"+r)}),t("cv/export/Phone Numbers.csv",function(t){var r=t[0].Number;e(".phone").text(r)}),t("cv/export/Positions.csv",function(t){var r=document.getElementById("position-template").innerHTML,n=Handlebars.compile(r);for(var a in t){var i=t[a],o=n({title:i.Title+" at "+i["Company Name"],from:i["Started On"],to:""===i["Finished On"]?"Present":i["Finished On"],body:i.Description.replace(/ \-/gi,"<br> -")});e("#positions").append(o)}}),t("cv/export/Skills.csv",function(t){var r=t.slice(0,18);for(var n in r){var a=r[n].Name;e(".keySkills").append(e("<li>").text(a))}}),t("cv/export/Certifications.csv",function(t){var n=document.getElementById("certification-template").innerHTML,a=Handlebars.compile(n),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i);for(var s in o){var c=o[s],m=a({title:c.Name,date:c["Start Date"],url:c.Url});e("#certifications").append(m)}}),t("cv/export/Courses.csv",function(t){var r=document.getElementById("course-template").innerHTML,n=Handlebars.compile(r);for(var a in t){var i=n({title:t[a].Name});e("#courses").append(i)}}),t("cv/export/Education.csv",function(t){var n=document.getElementById("education-item-template").innerHTML,a=Handlebars.compile(n),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i).filter(function(e){return console.log(e),"-"!==e.Activities.trim()});for(var s in o){var c=o[s],m=a({title:""===c.Activities?c["School Name"]:c.Activities+" at "+c["School Name"],from:c["Start Date"],degree:c["Degree Name"],to:""===c["End Date"]?"Present":c["End Date"],body:c.Notes.replace(/ \-/gi,"<br> -")});e("#education").append(m)}}),t("cv/export/Projects.csv",function(t){var n=document.getElementById("project-template").innerHTML,a=Handlebars.compile(n),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i).slice(0,7);for(var s in o){var c=o[s],m=a({title:c.Title,from:c["Start Date"],url:c.Url,to:""===c["End Date"]?"Present":c["End Date"],body:c.Description.replace(/ \-/gi,"<br> -")});e("#projects").append(m)}})}(jQuery);