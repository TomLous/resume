!function(e){"use strict";function t(e,t){Papa.parse(e,{download:!0,delimiter:",",header:!0,skipEmptyLines:!0,complete:function(e){t(e.data)}})}function r(e,t){var r=(t=void 0===t||t)?1:-1;return function(t,a){return t[e]<a[e]?-1*r:t[e]>a[e]?1*r:0}}t("cv/export/Profile.csv",function(t){var r=t[0];e(".first-name").text(r["First Name"]),e(".last-name").text(r["Last Name"]),e(".headline").text(r.Headline.replace("- available for contracts",""));var a={};r.Websites.split(", ").map(function(e){var t=e.split(":"),r=t.shift(),n=t.join(":");a.hasOwnProperty(r)||(a[r]=n)});var n="#";a.hasOwnProperty("PERSONAL")?n=a.PERSONAL:a.hasOwnProperty("PORTFOLIO")?n=a.PORTFOLIO:a.hasOwnProperty("BLOG")?n=a.BLOG:a.hasOwnProperty("OTHER")?n=a.OTHER:a.hasOwnProperty("COMPANY")&&(n=a.COMPANY),e(".website").text(n).attr("href",n),e("#summary").html(r.Summary.replace(/\-/gi,"<br>"))}),t("cv/export/Email Addresses.csv",function(t){var r=t.filter(function(e){return"Yes"===e.Primary})[0]["Email Address"];e(".email-address").text(r).attr("href","mailto:"+r)}),t("cv/export/Phone Numbers.csv",function(t){var r=t[0].Number;e(".phone").text(r)}),t("cv/export/Positions.csv",function(t){var r=document.getElementById("position-template").innerHTML,a=Handlebars.compile(r);for(var n in t){var i=t[n],o=a({title:i.Title+" at "+i["Company Name"],from:i["Started On"],to:""===i["Finished On"]?"Present":i["Finished On"],body:i.Description.replace(/ \-/gi,"<br> -")});e("#positions").append(o)}}),t("cv/export/Skills.csv",function(t){var r=t.slice(0,18);for(var a in r){var n=r[a].Name;e(".keySkills").append(e("<li>").text(n))}}),t("cv/export/Certifications.csv",function(t){var a=document.getElementById("certification-template").innerHTML,n=Handlebars.compile(a),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i);for(var c in o){var s=o[c],l=n({title:s.Name,date:s["Start Date"],url:s.Url});e("#certifications").append(l)}}),t("cv/export/Courses.csv",function(t){var r=document.getElementById("course-template").innerHTML,a=Handlebars.compile(r);for(var n in t){var i=a({title:t[n].Name});e("#courses").append(i)}}),t("cv/export/Education.csv",function(t){var a=document.getElementById("education-item-template").innerHTML,n=Handlebars.compile(a),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i).filter(function(e){return console.log(e),"-"!==e.Activities.trim()});for(var c in o){var s=o[c],l=n({title:""===s.Activities?s["School Name"]:s.Activities+" at "+s["School Name"],from:s["Start Date"],degree:s["Degree Name"],to:""===s["End Date"]?"Present":s["End Date"],body:s.Notes.replace(/ \-/gi,"<br> -")});e("#education").append(l)}}),t("cv/export/Projects.csv",function(t){var a=document.getElementById("project-template").innerHTML,n=Handlebars.compile(a),i=r("time",!1),o=t.map(function(e){return e.time=new Date(e["Start Date"]).getTime(),e}).sort(i).slice(0,7),c=[];for(var s in o){"Spark Big Data Pipeline"==(l=o[s]).Title?c.unshift(l):c[s]=l}for(var s in o){var l,m=n({title:(l=c[s]).Title,from:l["Start Date"],url:l.Url,to:l["End Date"]==l["Start Date"]?null:""===l["End Date"]?"Present":l["End Date"],body:l.Description.replace(/ \-/gi,"<br> -")});e("#projects").append(m)}})}(jQuery);